<!doctype html>
<html>
<head>
<meta name="description" content="Redistricting Process">
	<meta name="keywords" content="HTML,CSS,Canvas,JavaScript">
	<meta name="author" content="Nick Radonic nick@radonic.us">
	<title>Color Grouping - Redistricting</title>

	<link rel="stylesheet" type="text/css" href="fillCanvas.css">
	<link rel="SHORTCUT ICON" href="../radonicimages/happy.ico">

	<link rel="shortcut icon" type="image/png" href="jasmine/lib/jasmine-2.0.0/jasmine_favicon.png">
    <style type="text/css">
   		p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000}
    	p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000; min-height: 14.0px}
    	span.s1 {font-kerning: none}
  	</style>
</head>

<body>
	<h1>Visual Redistricting Process - Grouping Like-Elements</h1>
	<div id="info">
		<h3>Nick Radonic <img src="radonicimages/OffsetHappyFace.png"/></h3>
		<br>www.radonic.us/redistricting/
		<br>nick@radonic.us
		<!--<br>https://github.com/nradonic/CanvasGames-->
		<br>October 2017
	</div>
	<br>
	<h3 style="width:800px;text-align:center">Simple redistricting - by element flow</h3>
	<p>Nearby colored pixels are swapped if the net local color matches are better</p>
	<p>Screen Draw: <span id="screenDraw"></span>
	<span width="200px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
	<button  id="step" onclick='step();'>Step</button>&nbsp;&nbsp;
	<button  id="PausePlay" onclick='PausePlay();'>Pause/Play</button>

	</p>

	<p>Grid Size
	<select  id="select1" name=select1 onchange='OnChange(1);'>
		<option selected>4</option>
		<option>5</option>
		<option>6</option>
		<option>8</option>
		<option>10</option>
		<option>12</option>
		<option>20</option>
		<option>25</option>
		<option>30</option>
		<option>40</option>
		<option>50</option>
		<option>80</option>
		<option>120</option>
		<option>150</option>
		<option>200</option>
		<option>300</option>
		<option>400</option>
		<option>800</option>

	</select>
	&nbsp;&nbsp;&nbsp;&nbsp;
	Color Space:
	<select  id="select2" name=select2 onchange='OnChange(2);'>
		<option selected>2</option>
		<option>3</option>
	</select>
	&nbsp;&nbsp;&nbsp;&nbsp;
	Delay:
	<select  id="select3" name=select3 onchange='cycleDelay();'>
	<option>1</option>
		<option>3</option>
		<option>10</option>
		<option>30</option>
		<option>100</option>
		<option>300</option>
		<option selected>1000</option>

	</select>
	&nbsp;&nbsp;&nbsp;
	</p>

	<div>
		<canvas id="drawHere" width="800" height="800" >
		</canvas>
	</div>

	<div>
		<p>Changes: <span id="changes" style="border:green 1px solid"></span> Total Changes: <span id="totalChanges"  style="border:green 1px solid"></span> Noise Level: <span id="noiseLevel"></span>
		</p>
	</div>

	<div>

		<p>File Name: <input id="canvasgamesfilename"  placeholder="File Name">  &nbsp;&nbsp;&nbsp;&nbsp; <button  id="SaveData" onclick='SaveData();'>Save Data</button></p>
		<p>Load Data&nbsp;&nbsp; <select id="LoadData" onchange='LoadData();'    >
		<option>4</option>
		<option>5</option>
		</select>
		</p>
	</div>

	<div style="width:800px">
		<br><br>
			<h3 style="width:800px;text-align:center">Annealing Description</h3>

		<p class="p1"><span class="s1">Method:</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">The program calculates the amount of color difference in a small patch 'Range' number of blocks from each square. The swap of two color blocks will occur if that reduces the amount of color difference the most, compared to other blocks in that patch. It takes a certain amount of time and processing power to do this calculation, and so adding a delay interval between calculations keeps processor utilization down, and makes things move in a steady way. The size of the grid can be changed, the color 'depth' per R-G-B component can be changed from 1 bit (2 intensities) to 8 bits (255 intensities) per component. Sorting is more obvious at low bit depth. And at a middle grid size the effect is quite abstract after a while.</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Time:</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Color:</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Color variation:</span></p>
<p class="p2"><span class="s1"></span><br></p>

<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Grid Size:</span></p>
<p class="p2"><span class="s1"></span><br></p>

<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Range:</span></p>
<p class="p2"><span class="s1"></span><br></p>

<p class="p2"><span class="s1"></span><br></p>

<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Buttons:</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">START - free calculation</span></p>
<p class="p1"><span class="s1">STEP - lets you see the next state, one calculation at a time</span></p>
<p class="p1"><span class="s1">PAUSE - stops the free calculation</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Screen Draw - displays iteration number</span></p>
<p class="p1"><span class="s1">Changes - an estimate of how many blocks flipped last cycle - decreases as the grid settles down to a low level of differences</span></p>
<p class="p1"><span class="s1">Noise Level - description of the mathematical differences calculated between the original state and the new state - tends to 0 as the grid reaches a later state</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Load/Save - not fully working: file save at server</span></p>
	</div>
<br>
</body>
<script type="text/JavaScript" src="graphicSpace.js"> </script>
<script type="text/JavaScript" src="nextGen.js"> </script>
<script type="text/JavaScript" src="fileOperations.js"> </script>
<script type="text/JavaScript" src="fft2d.js"> </script>
<script type="text/JavaScript" src="fillCanvas.js"> </script>
</html>